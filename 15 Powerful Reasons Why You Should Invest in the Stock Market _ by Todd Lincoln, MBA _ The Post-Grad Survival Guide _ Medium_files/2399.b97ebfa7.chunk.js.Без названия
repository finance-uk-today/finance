(self.webpackChunklite=self.webpackChunklite||[]).push([[2399],{34353:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var r=n(67294),i=n.n(r),o=n(79316),a=n(62630),l=n(27572),c=n(28309);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=i().createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const m=function(e){return i().createElement("svg",u({width:20,height:16,viewBox:"0 0 20 16"},e),s)};var d=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,i=e.buttonStyle,u=void 0===i?"STRONG":i,s=e.newsletterV3Id,d=e.showMailIcon,f=void 0===d||d,b=e.onClick,p=e.width,E=e.buttonText,h=void 0===E?"Get this newsletter":E,g=(0,l.Qi)(),w=(0,a.Av)(),v=(0,c.Iq)();return r.createElement(o.zx,{buttonStyle:u,onClick:function(){w.event("newsletterV3.subscribeClicked",{newsletterV3Id:s,source:g}),b()},size:n,width:p},f&&r.createElement("span",{className:v((function(){return{marginRight:"8px"}})),"aria-hidden":"true"},r.createElement(m,null)),h)}},11675:(e,t,n)=>{"use strict";n.d(t,{x:()=>P,B:()=>L});var r=n(63038),i=n.n(r),o=n(28655),a=n.n(o),l=n(71439),c=n(67294),u=n(70561),s=n(26839),m=n(34353),d=n(79316),f=n(7688),b=n(80735),p=n(27952),E=function(e){var t=e.name,n=(0,u.v9)((function(e){return e.config.authDomain}));return c.createElement(d.Bn,{initialVisibility:!0},(function(e){var r=e.hide;return e.isVisible&&c.createElement(f.Z,{isVisible:!0,toastStyle:"NEWSLETTER_UNSUBSCRIBE",duration:5e3,hide:function(){}},c.createElement(b.QE,{scale:"S",color:"DARKER"},c.createElement(c.Fragment,null,"You have unsubscribed from ",c.createElement("b",null,t),". Changes will take effect within 24 hours."," ",c.createElement(d.rU,{inline:!0,href:(0,p.Mc)(n),linkStyle:"OBVIOUS"},"Manage all my email settings"))),c.createElement(d.PZ,{onClick:function(){r()},isPositionAbsolute:!1,size:"SMALL"}))}))},h=n(46829),g=n(62630);function w(){var e=a()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return w=function(){return e},e}function v(){var e=a()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!) {\n    subscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return v=function(){return e},e}var S=(0,l.Ps)(v()),y=(0,l.Ps)(w()),x=n(9785),V=n(62181),C=n(27572),T=n(51512),I=n(14391),k=n(88914),N=n(51064),O=n(534);function R(){var e=a()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    isSubscribed\n    type\n    user {\n      name\n    }\n    ...SusiClickable_newsletterV3\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var A="newsletter_v3_promo",L=(0,l.Ps)(R(),s.JE,V.Os,V.GB,O.Gi),P=function(e){var t=e.newsletterV3,n=e.buttonLayout,r=void 0===n?"MULTI-LINE":n,o=e.helperTextColor,a=void 0===o?"LIGHTER":o,l=e.showHelperText,s=void 0===l||l,w=e.showMailIcon,v=void 0===w||w,R=e.buttonSize,L=void 0===R?"LARGE":R,P=e.buttonStyle,U=void 0===P?"STRONG":P,B=(0,x.YC)().value,_=t.id,M=t.collection?t.collection:void 0,z=t.user?t.user:void 0,D=(0,k.w)(),j=(0,u.v9)((function(e){return{interstitial:e.navigation.interstitial,referrerSource:e.navigation.referrerSource}}),u.wU),$=j.referrerSource,G=j.interstitial,W=(0,u.v9)((function(e){return e.config.productName})),F=(0,N.O)(!1),Y=i()(F,3),H=Y[0],q=Y[1],Q=Y[2],Z=function(e,t){var n=c.useState(t),r=i()(n,2),o=r[0],a=r[1],l=c.useState(!1),u=i()(l,2),s=u[0],m=u[1],d=c.useState(!1),f=i()(d,2),b=f[0],p=f[1],E=(0,g.Av)();s&&E.event("newsletterV3.subscribe.error",{newsletterV3Id:e});var w=(0,h.useMutation)(S,{variables:{newsletterV3Id:e},onCompleted:function(e){var t=e.subscribeNewsletterV3;m(!t),t&&a(!0)}}),v=i()(w,1)[0],x=(0,h.useMutation)(y,{variables:{newsletterV3Id:e},onCompleted:function(e){var t=e.unsubscribeNewsletterV3;m(!t),t&&(a(!1),p(!0))}}),V=i()(x,1)[0];return{isSubscribed:o,hasUserUnsubscribed:b,hasError:s,setSubscribe:function(e){m(!1),p(!1),e?v():V()},setHasUserUnsubscribed:p}}(t.id,t.isSubscribed),K=Z.isSubscribed,J=Z.hasUserUnsubscribed,X=Z.hasError,ee=Z.setSubscribe,te=Z.setHasUserUnsubscribed;c.useEffect((function(){"unsubscribe-newsletter"===G&&te(!0)}),[]),c.useEffect((function(){if($){var e=(0,T.P7)($||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&K&&D({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:null==t?void 0:t.name,unsubscribeFn:function(){return ee(!1)}}})}}),[$]);var ne,re,ie,oe=function(e){var t=e.children;return c.createElement(d.xu,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},ae=function(e){var t=e.children;return c.createElement(d.xu,{maxWidth:"COMPACT"===r?"330px":"",margin:"COMPACT"===r?"10px 0 10px 0":"10px 0 0 0"},c.createElement(b.F,{scale:"S",color:a,tag:"p"},t))};switch(t.type){case I.Rr.NEWSLETTER_TYPE_COLLECTION:ne=t.name,re="You’re signed up for ".concat(ne,"."),ie="Get this newsletter";break;case I.Rr.NEWSLETTER_TYPE_AUTHOR:ne=null==z?void 0:z.name,re="You’re signed up for ".concat(ne,"’s updates."),ie="Subscribe"}var le=function(){var e=(0,p.Zu)(_),n=function(){B&&ee(!0)},r={buttonSize:L,buttonStyle:U,newsletterV3Id:t.id,onClick:B&&!B.allowEmailAddressSharing?q:n,showMailIcon:v,buttonText:ie};return c.createElement(oe,null,B?c.createElement(c.Fragment,null,c.createElement(m.w,r),c.createElement(d.QH,{onConfirm:n,isVisible:H,hide:Q,titleText:"Confirm your subscription to ".concat(ne),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,titleTag:"h1",contentTag:"p",isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(W,". You can opt out of sharing your email address by unsubscribing in your Settings."))):c.createElement(V.R9,{operation:"register",newsletterV3:t,collection:M,actionUrl:e,susiEntry:A},c.createElement(m.w,r)))},ce=function(){return c.createElement(C.cW,{source:{newsletterV3Id:t.id},extendSource:!0},c.createElement(le,null),B?s&&c.createElement(ae,null,"Emails will be sent to ",B.email,".",c.createElement(d.xu,null,c.createElement(V.R9,{operation:"login",newsletterV3:t,collection:M,susiEntry:A},c.createElement(d.rU,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))):c.createElement(ae,null,"Create a free Medium account to get ",t.name," in your inbox."))},ue=function(){return c.createElement(c.Fragment,null,c.createElement(oe,null,c.createElement(d.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return ee(!1)}},"Unsubscribe")),s&&c.createElement(ae,null,re))};return c.createElement(c.Fragment,null,c.createElement(d.Yi,null,(function(e){return c.createElement(d.f6,{theme:(0,O.jN)(M,e)},K?c.createElement(ue,null):c.createElement(ce,null))})),X&&c.createElement(f.Z,{toastStyle:"RETRYABLE_ERROR",isVisible:X,hide:function(){}}),J&&c.createElement(E,{name:ne||""}))}},55346:(e,t,n)=>{"use strict";n.d(t,{QL:()=>U,Lh:()=>_});var r=n(28655),i=n.n(r),o=n(59713),a=n.n(o),l=n(63038),c=n.n(l),u=n(46829),s=n(71439),m=n(67294),d=n(70561),f=n(34353),b=n(79316),p=n(28309),E={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},h=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},g=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,r=e.buttonStyle,i=void 0===r?"STRONG":r,o=(0,p.Iq)(),a=function(){var e=(0,p.om)({keyframesName:E}).keyframesName;return m.createElement("div",{className:o(h(e))})};return m.createElement("div",{style:{cursor:"wait"}},m.createElement(b.zx,{buttonStyle:i,onClick:function(){return null},size:n,width:"207px",disabled:!0},m.createElement((function(){return m.createElement(b.xu,null,m.createElement(b.xu,{display:"inline-block",float:"left",marginRight:"8px"},m.createElement(a,null)),m.createElement(b.xu,{float:"left"},"Loading.."))}),null)))},w=n(90738),v=n(14414),S=n(31285),y=n(22484),x=n(80735),V=n(62630),C=n(27572),T=n(37581),I=n(49456),k=n(51299),N=n(27952),O=n(534);function R(){var e=i()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return R=function(){return e},e}function A(){var e=i()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return A=function(){return e},e}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,i=(0,p.Fg)(),o=(0,C.pK)(),a=(0,C.hp)(),l=(0,V.Av)(),s=(0,d.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,productName:e.config.productName}}),d.wU),E=s.authDomain,h=s.currentLocation,R=s.productName,A=m.useState(""),L=c()(A,2),U=L[0],_=L[1],M=m.useState(""),z=c()(M,2),D=z[0],j=z[1],$=m.useState(!1),G=c()($,2),W=G[0],F=G[1],Y=m.useState(!1),H=c()(Y,2),q=H[0],Q=H[1],Z=m.useState(!1),K=c()(Z,2),J=K[0],X=K[1],ee=m.useState(!1),te=c()(ee,2),ne=te[0],re=te[1],ie=m.useState(""),oe=c()(ie,2),ae=oe[0],le=oe[1],ce="register",ue=null==h.match("http[s]?://[^/]*".concat(E)),se=r.collection,me=r.id,de=r.slug,fe=(0,N.Zu)(me),be=se?(0,N.iB)(de,E,se):h;(0,u.useQuery)(S.qz,{fetchPolicy:"no-cache",skip:!fe||ue,onCompleted:function(e){var t=e.accountToken;return t&&le((0,v.hQ)(be,o,a,fe,t))}});var pe=function(e){_(e),F(!0),setTimeout((function(){return F(!1)}),y.zn),Q(!1),X(!1)},Ee=function(){(0,I.J)(D)?(X(!0),Q(!0)):pe("Enter a valid email address.")},he=function(){pe("We couldn't process your request. Try again, or contact our support team.")},ge=(0,u.useMutation)(B,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":j(D),re(!0);break;case"BadRequest":pe("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:he()}},onError:he}),we=c()(ge,1)[0],ve={newsletterV3Id:me,email:D,operation:ce,redirect:ae},Se=(0,k.U)();return m.useEffect((function(){l.event("experiment.eligible",{experimentId:"c19291e389a6"})}),[]),m.createElement(b.f6,{theme:(0,O.jN)(se,i)},m.createElement(b.xu,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},m.createElement(w.k,{callback:function(e){we({variables:P({captchaValue:e},ve)})},shouldExecuteRecaptcha:q}),m.createElement(b.xu,{display:ne?"none":"inline"},m.createElement(b.xu,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",height:"130px",paddingTop:"16px"},height:"56px"},m.createElement(b.xu,{marginTop:U&&"25px",sm:{marginTop:"0"}},m.createElement(y.II,{errorMessage:U,handleInputChange:function(e){j(e.target.value.trim())},handleSubmit:Ee,input:D,inputType:y.n$.EMAIL,isAnimating:W,textAlign:"start",placeholder:"Your email",width:"".concat({xl:375,lg:375,md:325,sm:450,xs:200,"":200}[Se],"px")})),m.createElement(b.xu,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},J?m.createElement(g,{newsletterV3Id:me}):m.createElement(T.$,{eventData:{operation:ce}},m.createElement(f.w,{newsletterV3Id:me,onClick:Ee})))),m.createElement(b.xu,{paddingTop:U&&"20px",marginTop:"10px",sm:{marginTop:"0"}},m.createElement(x.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",R," account if you don’t already have one. Review our"," ",m.createElement(b.rU,{href:(0,N.wo)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),m.createElement(b.xu,{display:ne?"inline":"none",marginBottom:"15px",marginTop:"5px"},m.createElement(x.F,{color:"DARKER",scale:"M"},m.createElement("b",null,"Check your inbox"),m.createElement("br",null),R," sent you an email at ",D," to complete your subscription."))))},B=(0,s.Ps)(A()),_=(0,s.Ps)(R(),O.Gi,N.nf)},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(63038),i=n.n(r),o=n(67294),a=n(28309),l=n(36808),c=function(){var e=(0,a.Fg)(),t=o.useState("lg"),n=i()(t,2),r=n[0],c=n[1],u=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return o.useEffect((function(){return u(),l.V6.on("resize",u),function(){return l.V6.off("resize",u)}}),[]),r}}}]);
//# sourceMappingURL=2399.b97ebfa7.chunk.js.map